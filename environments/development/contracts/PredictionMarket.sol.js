// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":false,"inputs":[{"name":"curAdmin","type":"address"}],"name":"removeAdmin","outputs":[],"type":"function"},{"constant":false,"inputs":[],"name":"betAgainst","outputs":[{"name":"success","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"result","type":"bool"}],"name":"closePoll","outputs":[{"name":"success","type":"bool"}],"type":"function"},{"constant":false,"inputs":[],"name":"kill","outputs":[{"name":"success","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"question","type":"string"},{"name":"trustedSource","type":"address"}],"name":"openNewPoll","outputs":[{"name":"success","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"newAdmin","type":"address"}],"name":"addAdmin","outputs":[],"type":"function"},{"constant":false,"inputs":[],"name":"betFor","outputs":[{"name":"success","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"changeOwner","outputs":[],"type":"function"},{"constant":false,"inputs":[],"name":"payOut","outputs":[{"name":"success","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"trustedSource","type":"address"}],"name":"setNewTrustedSource","outputs":[{"name":"success","type":"bool"}],"type":"function"},{"inputs":[],"type":"constructor"},{"anonymous":false,"inputs":[],"name":"PollClosed","type":"event"},{"anonymous":false,"inputs":[],"name":"PollOpened","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"totalYes","type":"uint256"},{"indexed":false,"name":"totalNo","type":"uint256"}],"name":"PredictionUpdate","type":"event"},{"anonymous":false,"inputs":[],"name":"PaidOut","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"newAdmin","type":"address"}],"name":"AdminAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"removedAdmin","type":"address"}],"name":"AdminRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"newOwner","type":"address"}],"name":"OwnerChanged","type":"event"}],
    binary: "606060405260008054600160a060020a03191633179055600160a060020a0333166000908152600160208190526040909120805460ff191690911790556108ee8061004a6000396000f3606060405236156100825760e060020a60003504631785f53c811461008a5780633937ac40146100b75780633a52719b146100d057806341c0e1b5146100ea57806342c8bcdc1461010b578063704802751461017e5780639ae3be25146101ab578063a6f9dae1146101c4578063c2052403146101e7578063c53b1c511461020b575b610238610002565b610238600435600160a060020a03331660009081526001602052604090205460ff16151561024e57610002565b61023a600554600090819060ff16151561037857610002565b61023a60043560055460009060ff1615156103cf57610002565b61023a60008054600160a060020a039081163391909116146103f257610002565b61023a6004808035906020019082018035906020019191908080601f016020809104026020016040519081016040528093929190818152602001838380828437509496505093359350505050600160a060020a03331660009081526001602052604081205460ff16151561040057610002565b610238600435600160a060020a03331660009081526001602052604090205460ff16151561051457610002565b61023a600554600090819060ff16151561057057610002565b610238600435600054600160a060020a0390811633919091161461065257610002565b61023a600554600090819081908190819081908190819060ff16156106a657610002565b61023a600435600160a060020a03331660009081526001602052604081205460ff1615156107ea57610002565b005b604080519115158252519081900360200190f35b600160a060020a038116600081815260016020908152604091829020805460ff19169055815192835290517fa3b62bc36326052d97ea62d63c3d60308ed4c3ea8ac079dd8499f1e9c4f80c0f9281900390910190a150565b5033600160a060020a03811660009081526006602052604081205414806102d557506040600090812060010154145b1561030457600880546001810190915560009081526007602052604090208054600160a060020a031916821790555b60048054349081018255600160a060020a033316600090815260066020908152604091829020600101805484019055600354935482519485529084015280519194507f2a6d7249ddb98890b5dd0a1de681af71fe5fdd35b468228ad62f836709b79b0d928290030190a160019250505b5090565b600034600014156102a657610002565b6005805461ff00191661010084021760ff191690556040517f5e24da2538f801728822124bb8a94fd11c332883ca34345e44ddf7f79587cef990600090a15060015b919050565b60055463010000009004600160a060020a03908116339091161461038857610002565b600054600160a060020a0316ff5b60055460ff161561041057610002565b60055462010000900460ff16151561042757610002565b6104e28383610100604051908101604052808381526020016000815260200160008152602001600181526020016000815260200160008152602001828152602001600081526020015060026000506000820151816000016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061082d57805160ff19168380011785555b5061085d9291505b8082111561037457600081556001016104ce565b6040517fd286aab26c83aacb04720da27f087833c19413501027f7db4200d506aca2c78b90600090a150600192915050565b600160a060020a038116600081815260016020818152604092839020805460ff1916909217909155815192835290517f44d6d25963f097ad14f29f06854a01f575648a1ef82f30e562ccd3889717e3399281900390910190a150565b6000346000141561058057610002565b5033600160a060020a03811660009081526006602052604081205414806105af57506040600090812060010154145b156105de57600880546001810190915560009081526007602052604090208054600160a060020a031916821790555b60038054349081018255600160a060020a033316600090815260066020908152604091829020805484019055925460045482519182529381019390935280519194507f2a6d7249ddb98890b5dd0a1de681af71fe5fdd35b468228ad62f836709b79b0d928290030190a16001925050610374565b60008054600160a060020a03191682179081905560408051600160a060020a03929092168252517fa2ea9883a321a3e97b8266c2b078bfeec6d50c711ed71f874a90d500ae2eaf369181900360200190a150565b60055462010000900460ff16156106bc57610002565b6005805462ff000019166201000017905560045460035430600160a060020a0316319850019550600094505b60085485101561073957600085815260076020908152604080832054600160a060020a031680845260069092529091206005549195509350610100900460ff16610770576001830154869004610776565b6040517ffb0ce7e749cbe12708da86b170bb1d4a63c766e1baa566788270737a6cac7b9290600090a1600197505050505050505090565b82548690045b9150600182111561078657610002565b506000808355600183015585810230600160a060020a0316318111156107b3575030600160a060020a0316315b604051600160a060020a03851690600090839082818181858883f1935050505015156107de57610002565b600194909401936106e8565b60055460ff1615156107fb57610002565b50600580546301000000830276ffffffffffffffffffffffffffffffffffffffff0000001990911617905560016103ca565b828001600101855582156104c6579182015b828111156104c657825182600050559160200191906001019061083f565b505060208201516001820155604082015160028201556060820151600382018054608085015160a086015160c087015163010000000262010000919091026101009290920260ff199390931690941761ff0019169190911762ff000019161776ffffffffffffffffffffffffffffffffffffffff000000191691909117905560e0919091015160069190910155505056",
    unlinked_binary: "606060405260008054600160a060020a03191633179055600160a060020a0333166000908152600160208190526040909120805460ff191690911790556108ee8061004a6000396000f3606060405236156100825760e060020a60003504631785f53c811461008a5780633937ac40146100b75780633a52719b146100d057806341c0e1b5146100ea57806342c8bcdc1461010b578063704802751461017e5780639ae3be25146101ab578063a6f9dae1146101c4578063c2052403146101e7578063c53b1c511461020b575b610238610002565b610238600435600160a060020a03331660009081526001602052604090205460ff16151561024e57610002565b61023a600554600090819060ff16151561037857610002565b61023a60043560055460009060ff1615156103cf57610002565b61023a60008054600160a060020a039081163391909116146103f257610002565b61023a6004808035906020019082018035906020019191908080601f016020809104026020016040519081016040528093929190818152602001838380828437509496505093359350505050600160a060020a03331660009081526001602052604081205460ff16151561040057610002565b610238600435600160a060020a03331660009081526001602052604090205460ff16151561051457610002565b61023a600554600090819060ff16151561057057610002565b610238600435600054600160a060020a0390811633919091161461065257610002565b61023a600554600090819081908190819081908190819060ff16156106a657610002565b61023a600435600160a060020a03331660009081526001602052604081205460ff1615156107ea57610002565b005b604080519115158252519081900360200190f35b600160a060020a038116600081815260016020908152604091829020805460ff19169055815192835290517fa3b62bc36326052d97ea62d63c3d60308ed4c3ea8ac079dd8499f1e9c4f80c0f9281900390910190a150565b5033600160a060020a03811660009081526006602052604081205414806102d557506040600090812060010154145b1561030457600880546001810190915560009081526007602052604090208054600160a060020a031916821790555b60048054349081018255600160a060020a033316600090815260066020908152604091829020600101805484019055600354935482519485529084015280519194507f2a6d7249ddb98890b5dd0a1de681af71fe5fdd35b468228ad62f836709b79b0d928290030190a160019250505b5090565b600034600014156102a657610002565b6005805461ff00191661010084021760ff191690556040517f5e24da2538f801728822124bb8a94fd11c332883ca34345e44ddf7f79587cef990600090a15060015b919050565b60055463010000009004600160a060020a03908116339091161461038857610002565b600054600160a060020a0316ff5b60055460ff161561041057610002565b60055462010000900460ff16151561042757610002565b6104e28383610100604051908101604052808381526020016000815260200160008152602001600181526020016000815260200160008152602001828152602001600081526020015060026000506000820151816000016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061082d57805160ff19168380011785555b5061085d9291505b8082111561037457600081556001016104ce565b6040517fd286aab26c83aacb04720da27f087833c19413501027f7db4200d506aca2c78b90600090a150600192915050565b600160a060020a038116600081815260016020818152604092839020805460ff1916909217909155815192835290517f44d6d25963f097ad14f29f06854a01f575648a1ef82f30e562ccd3889717e3399281900390910190a150565b6000346000141561058057610002565b5033600160a060020a03811660009081526006602052604081205414806105af57506040600090812060010154145b156105de57600880546001810190915560009081526007602052604090208054600160a060020a031916821790555b60038054349081018255600160a060020a033316600090815260066020908152604091829020805484019055925460045482519182529381019390935280519194507f2a6d7249ddb98890b5dd0a1de681af71fe5fdd35b468228ad62f836709b79b0d928290030190a16001925050610374565b60008054600160a060020a03191682179081905560408051600160a060020a03929092168252517fa2ea9883a321a3e97b8266c2b078bfeec6d50c711ed71f874a90d500ae2eaf369181900360200190a150565b60055462010000900460ff16156106bc57610002565b6005805462ff000019166201000017905560045460035430600160a060020a0316319850019550600094505b60085485101561073957600085815260076020908152604080832054600160a060020a031680845260069092529091206005549195509350610100900460ff16610770576001830154869004610776565b6040517ffb0ce7e749cbe12708da86b170bb1d4a63c766e1baa566788270737a6cac7b9290600090a1600197505050505050505090565b82548690045b9150600182111561078657610002565b506000808355600183015585810230600160a060020a0316318111156107b3575030600160a060020a0316315b604051600160a060020a03851690600090839082818181858883f1935050505015156107de57610002565b600194909401936106e8565b60055460ff1615156107fb57610002565b50600580546301000000830276ffffffffffffffffffffffffffffffffffffffff0000001990911617905560016103ca565b828001600101855582156104c6579182015b828111156104c657825182600050559160200191906001019061083f565b505060208201516001820155604082015160028201556060820151600382018054608085015160a086015160c087015163010000000262010000919091026101009290920260ff199390931690941761ff0019169190911762ff000019161776ffffffffffffffffffffffffffffffffffffffff000000191691909117905560e0919091015160069190910155505056",
    address: "",
    generated_with: "2.0.9",
    contract_name: "PredictionMarket"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("PredictionMarket error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("PredictionMarket error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("PredictionMarket error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("PredictionMarket error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.PredictionMarket = Contract;
  }

})();
